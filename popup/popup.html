<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./popup.css" />
    <title>SiteBlock Extension</title>
  </head>
  <body>
    <div id="loading" aria-label="Loading..."><div></div></div>
    <div id="popup">
      <header>
        <svg
          width="188"
          height="70"
          viewBox="0 0 188 70"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-label="SiteBlock logo"
        >
          <g clip-path="url(#clip0_139_11)">
            <path
              d="M29.5901 0.0142112C29.3216 0.0181566 29.0581 0.0871241 28.8226 0.21515C28.587 0.343177 28.3867 0.526348 28.2388 0.748741C25.2396 5.09235 15.7331 8.78496 4.85663 8.84879C4.83517 8.84838 4.8137 8.84838 4.79223 8.84879C4.72152 8.83675 4.6501 8.82924 4.57842 8.82643C4.19828 8.82476 3.82924 8.95357 3.53387 9.19092C3.2385 9.42828 3.03496 9.7596 2.95774 10.1288C2.95774 10.1288 1.31386 17.511 0.490366 26.44C-0.333173 35.3693 -0.502949 45.8256 3.11166 52.5767C5.81948 57.6341 12.2263 61.699 17.9458 64.7931C23.2359 67.6549 27.599 69.3868 28.2856 69.6567C28.5963 69.896 28.9831 70.0172 29.376 69.9983C29.7744 70.0179 30.1664 69.8934 30.4793 69.6481C30.4815 69.6481 30.4836 69.6481 30.4858 69.6481C31.2006 69.3677 35.542 67.6488 40.8128 64.7975C46.5323 61.7034 52.9305 57.6384 55.6384 52.581C59.253 45.83 59.0832 35.3737 58.2596 26.4445C57.4361 17.5155 55.7923 10.1332 55.7923 10.1332C55.7137 9.75674 55.5039 9.41977 55.1997 9.18158C54.8954 8.94338 54.5162 8.81919 54.1288 8.83083C54.0832 8.82895 54.0375 8.82895 53.9919 8.83083C43.5413 8.78927 34.3603 5.29259 31.1571 1.07231C31.0397 0.754422 30.8256 0.4806 30.5445 0.288583C30.2634 0.0965664 29.929 -0.00416928 29.5877 0.000392506L29.5901 0.0142112ZM29.5601 4.27145C34.1533 9.10936 42.9673 11.8295 52.8097 12.0684C53.1395 13.6244 54.2849 19.1898 54.982 26.7485C55.7843 35.4469 55.6169 45.6586 52.7284 51.0533C50.7468 54.7547 44.7448 58.9515 39.2328 61.9333C34.2431 64.6326 30.1883 66.2536 29.3762 66.5747C28.5641 66.2535 24.5094 64.6326 19.5196 61.9333C14.0076 58.9515 8.00568 54.7547 6.02398 51.0533C3.13547 45.6586 2.96819 35.4469 3.77041 26.7485C4.46722 19.1936 5.61207 13.6327 5.94272 12.0726C15.956 11.8344 24.9049 9.11594 29.5601 4.27145V4.27145Z"
              fill="#3498DB"
            />
            <path
              d="M21.9361 25.0138C22.2641 25.0143 22.5844 25.1119 22.8562 25.2943C23.1279 25.4767 23.3386 25.7355 23.4614 26.0376C23.5842 26.3397 23.6134 26.6713 23.5454 26.9899C23.4773 27.3086 23.315 27.5999 23.0794 27.8264L15.8384 34.9947L23.0794 42.1631C23.2392 42.3132 23.3671 42.4936 23.4555 42.6937C23.544 42.8938 23.5912 43.1095 23.5944 43.328C23.5976 43.5465 23.5568 43.7633 23.4742 43.9659C23.3917 44.1684 23.2692 44.3526 23.1138 44.5073C22.9585 44.662 22.7736 44.7843 22.57 44.8669C22.3663 44.9495 22.1481 44.9908 21.9281 44.9883C21.7081 44.9858 21.4909 44.9394 21.2892 44.8522C21.0876 44.7649 20.9055 44.6384 20.7539 44.4801L12.343 36.1533C12.1896 36.0013 12.0679 35.8207 11.9849 35.6219C11.9019 35.4231 11.8591 35.21 11.8591 34.9948C11.8591 34.7796 11.9019 34.5664 11.9849 34.3676C12.0679 34.1688 12.1896 33.9882 12.343 33.8362L20.7539 25.5076C20.9077 25.351 21.0916 25.2265 21.2946 25.1417C21.4977 25.0569 21.7159 25.0134 21.9361 25.0138V25.0138Z"
              fill="#3498DB"
            />
            <path
              d="M36.8372 25.0117C36.5092 25.0122 36.1889 25.1098 35.9172 25.2922C35.6454 25.4746 35.4347 25.7334 35.3119 26.0355C35.1891 26.3376 35.1599 26.6692 35.228 26.9879C35.296 27.3065 35.4583 27.5977 35.6939 27.8243L42.9349 34.9926L35.6939 42.1609C35.5342 42.3111 35.4063 42.4915 35.3178 42.6916C35.2293 42.8916 35.1821 43.1073 35.1789 43.3258C35.1757 43.5443 35.2165 43.7612 35.2991 43.9638C35.3816 44.1663 35.5042 44.3504 35.6595 44.5052C35.8148 44.6599 35.9997 44.7822 36.2034 44.8648C36.407 44.9474 36.6253 44.9886 36.8452 44.9861C37.0652 44.9835 37.2824 44.9373 37.4841 44.85C37.6858 44.7628 37.8678 44.6363 38.0195 44.478L46.4303 36.1512C46.5837 35.9991 46.7054 35.8186 46.7884 35.6198C46.8715 35.421 46.9142 35.2078 46.9142 34.9926C46.9142 34.7774 46.8715 34.5643 46.7884 34.3655C46.7054 34.1667 46.5837 33.9861 46.4303 33.8341L38.0195 25.5055C37.8656 25.3488 37.6817 25.2244 37.4787 25.1396C37.2756 25.0548 37.0575 25.0113 36.8372 25.0117V25.0117Z"
              fill="#3498DB"
            />
            <path
              d="M33.5376 18.7729C33.1861 18.7857 32.848 18.9098 32.5727 19.1271C32.2973 19.3445 32.0993 19.6437 32.0074 19.9809L23.5966 49.1265C23.5347 49.3337 23.5148 49.5511 23.5379 49.766C23.5611 49.9809 23.6268 50.189 23.7314 50.3785C23.836 50.568 23.9774 50.7351 24.1473 50.8701C24.3173 51.005 24.5124 51.1052 24.7215 51.1648C24.9307 51.2244 25.1496 51.2423 25.3657 51.2174C25.5818 51.1925 25.7909 51.1254 25.9807 51.0198C26.1705 50.9142 26.3375 50.7724 26.4718 50.6024C26.6062 50.4324 26.7053 50.2376 26.7635 50.0294L35.1743 20.8819C35.2502 20.6326 35.2651 20.369 35.2177 20.1128C35.1704 19.8567 35.0622 19.6154 34.9021 19.4092C34.742 19.2029 34.5347 19.0376 34.2974 18.9269C34.0601 18.8163 33.7996 18.7635 33.5376 18.7729V18.7729Z"
              fill="#3498DB"
            />
            <path
              d="M75.9245 40.2384L75.9134 40.2163C76.8987 40.2163 77.7179 39.3983 77.7179 38.4144C77.7179 37.6517 77.419 37.1653 76.8101 36.9442C75.526 36.4688 75.8359 36.5794 74.585 36.1482C73.2676 35.695 72.0499 34.7996 71.2307 33.6831C70.7436 33.0199 70.5 32.2019 70.5 31.218C70.5 29.7368 71.0314 28.4655 72.0941 27.4043C73.1569 26.3431 74.4299 25.8125 75.9244 25.8125C77.4078 25.8125 78.6809 26.3431 79.7437 27.4043C80.8064 28.4655 81.3378 29.7368 81.3378 31.218H77.7399C77.7399 30.2452 76.9207 29.4272 75.9465 29.4272C74.9613 29.4272 74.1421 30.2452 74.1421 31.2291C74.1421 31.8702 74.3967 32.3566 74.917 32.6882C75.9797 33.3735 75.858 33.2409 77.1311 33.6167C78.5038 34.0147 79.7437 34.8659 80.5961 35.9602C81.0942 36.6014 81.3488 37.4305 81.3488 38.4364C81.3488 39.9287 80.8175 41.1999 79.7547 42.2611C78.692 43.3223 77.4189 43.8529 75.9355 43.8529C74.441 43.8529 73.1679 43.3223 72.1052 42.2611C71.0424 41.1999 70.5111 39.9287 70.5111 38.4364H74.12C74.12 39.4312 74.9281 40.2382 75.9244 40.2382L75.9245 40.2384ZM82.9873 43.7536V25.9344H86.563V43.7536H82.9873ZM92.5742 25.9344H96.1499H100.611V29.4939H96.1499V43.7536H92.5742V29.4939H88.1129V25.9344H92.5742V25.9344ZM102.161 25.9344H112.866V29.4939H105.737V33.0644H111.084V36.6239H105.737V40.1834H112.866V43.7539H105.737H102.161V25.9347L102.161 25.9344ZM118.977 25.9893H118.966C121.357 25.9893 123.361 27.968 123.405 30.3336C123.405 30.8089 123.239 31.3617 123.095 31.8038C125.132 32.6882 126.958 34.7001 126.958 37.5191C126.958 39.2214 126.35 40.6806 125.132 41.8966C123.914 43.1126 122.453 43.7205 120.748 43.7205H114.538V25.9896H118.977L118.977 25.9893ZM118.08 31.6604H118.966C119.563 31.6604 120.039 31.2072 120.039 30.6213C120.039 30.0244 119.563 29.5269 118.966 29.5269H118.08V31.6604ZM120.737 40.172C122.198 40.172 123.405 38.9782 123.405 37.5301C123.405 36.7894 123.139 36.1593 122.619 35.6398C122.099 35.1203 121.468 35.0871 120.737 35.0871H118.08V40.1721H120.737V40.172ZM128.298 25.9344H131.874V40.1834H139.003V43.7539H128.298V25.9347L128.298 25.9344ZM148.9 25.8455C151.38 25.8455 153.505 26.7299 155.276 28.4985C157.048 30.2672 157.933 32.3896 157.933 34.8658C157.933 37.3419 157.048 39.4643 155.276 41.2217C153.505 42.9791 151.38 43.8637 148.9 43.8637C146.42 43.8637 144.295 42.9793 142.535 41.2217C140.775 39.4641 139.889 37.3416 139.889 34.8658C139.889 32.3899 140.775 30.2672 142.535 28.4985C144.295 26.7299 146.42 25.8455 148.9 25.8455V25.8455ZM148.9 29.4383C147.405 29.4383 146.132 29.969 145.081 31.0302C144.029 32.0914 143.498 33.3626 143.498 34.8439C143.498 36.3362 144.029 37.6074 145.081 38.6576C146.132 39.7078 147.405 40.2384 148.9 40.2384C150.383 40.2384 151.656 39.7078 152.719 38.6576C153.782 37.6074 154.313 36.3362 154.313 34.8439C154.313 33.3626 153.782 32.0914 152.719 31.0302C151.656 29.969 150.383 29.4383 148.9 29.4383ZM167.808 25.8455L167.797 25.8897C169.037 25.8897 170.199 26.1219 171.295 26.5972C172.391 27.0725 173.354 27.7137 174.184 28.5206L171.638 31.0631C170.564 30.0019 169.291 29.4713 167.819 29.4713C166.324 29.4713 165.051 30.0019 164 31.0631C162.948 32.1243 162.417 33.3956 162.417 34.8768C162.417 36.3691 162.948 37.6404 164 38.6906C165.051 39.7407 166.324 40.2713 167.819 40.2713C169.313 40.2713 170.587 39.7407 171.649 38.6795L174.195 41.222C173.365 42.04 172.402 42.6811 171.306 43.1565C170.21 43.6319 169.048 43.864 167.808 43.864C165.328 43.864 163.203 42.9796 161.443 41.222C159.683 39.4644 158.797 37.3419 158.797 34.8661C158.797 32.3902 159.683 30.2675 161.443 28.4988C163.203 26.7302 165.328 25.8458 167.808 25.8458L167.808 25.8455ZM175.513 25.9344H179.088V32.6995L183.018 25.9344H187.147L181.878 34.9877L188 43.7536H183.649L179.088 37.2092V43.7536H175.513V25.9344H175.513Z"
              fill="#ECF0F1"
            />
          </g>
          <defs>
            <clipPath id="clip0_139_11">
              <rect width="188" height="70" fill="white" />
            </clipPath>
          </defs>
        </svg>

        <div class="header-controls">
          <!-- Lock button with two different icons -->
          <button
            id="lock-button"
            class="icon-button"
            title="Password Settings"
          >
            <!-- Unlocked icon (visible when no password) -->
            <svg
              id="unlocked-icon"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
              <path d="M7 11V7a5 5 0 0 1 9.9-1"></path>
            </svg>

            <!-- Locked icon (visible when password set) -->
            <svg
              id="locked-icon"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              style="display: none"
            >
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
          </button>

          <label
            id="switch"
            for="switch__input"
            aria-label="Enable or disable site blocking"
          >
            <input id="switch__input" type="checkbox" checked />
            <span id="switch__span" class="slider round"></span>
          </label>
        </div>
      </header>

      <!-- Password modal with side-by-side buttons -->
      <div id="password-modal" class="modal" style="display: none">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Password Settings</h3>
            <button id="close-modal" class="close-button">&times;</button>
          </div>
          <div class="modal-body">
            <!-- Section for setting/changing password -->
            <div id="set-password-section">
              <p class="modal-description">
                Password protects settings from being changed without
                authorization.
              </p>
              <div class="password-input-group">
                <label class="text">
                  <input
                    id="new-password"
                    class="text__input"
                    type="password"
                    placeholder=" "
                    aria-label="Enter your new password"
                  />
                  <span class="text__span">New password</span>
                </label>

                <label class="text">
                  <input
                    id="confirm-password"
                    class="text__input"
                    type="password"
                    placeholder=" "
                    aria-label="Confirm your new password"
                  />
                  <span class="text__span">Confirm password</span>
                </label>
              </div>

              <!-- Action buttons side by side -->
              <div class="buttons">
                <button id="set-password-btn" class="primary-button">
                  Change Password
                </button>
                <button
                  id="remove-password-btn"
                  class="danger-button"
                  style="display: none"
                >
                  Remove Protection
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Updated password confirmation dialog -->
      <div id="password-overlay" style="display: none">
        <div id="password-container">
          <h3>Enter Password</h3>

          <label class="text">
            <input
              id="password-input"
              class="text__input"
              type="password"
              placeholder=""
              aria-label="Enter your password to continue"
            />
            <span class="text__span">Password</span>
          </label>
          <div class="password-buttons">
            <button class="button-primary" id="password-submit">Submit</button>
            <button class="button-secondary" id="password-cancel">
              Cancel
            </button>
          </div>
        </div>
      </div>

      <h2>Blocked list</h2>
      <ul id="list" aria-live="polite">
        <li id="empty-list-message" style="display: none">
          No sites blocked yet
        </li>
      </ul>

      <form id="form">
        <label class="text">
          <input
            id="block-input"
            class="text__input"
            type="text"
            placeholder=" "
            aria-label="Website URL or keyword to block"
          />
          <span class="text__span">Domain or Keyword</span>
        </label>
        <div class="buttons">
          <button class="primary-button" type="submit">Block</button>
          <button class="secondary-button" type="reset">Clear</button>
        </div>
      </form>

      <div id="version">v1.2</div>
    </div>
  </body>

  <script src="./popup.js" type="module"></script>
</html>
